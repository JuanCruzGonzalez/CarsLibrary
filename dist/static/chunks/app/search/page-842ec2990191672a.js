(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[797],{6415:function(e,t,r){Promise.resolve().then(r.bind(r,4638))},9426:function(e,t,r){"use strict";r.d(t,{E3:function(){return a},qM:function(){return c}}),r(6463);let n="https://rttlneepbqffqwjfjvot.supabase.co",s="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJ0dGxuZWVwYnFmZnF3amZqdm90Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTM1NjU2NzEsImV4cCI6MjAyOTE0MTY3MX0.0uxE6b3BzqL5eZa1KgZKjq4rHKOIuUDHIgEoZL_RxE0";async function a(){try{let e=await fetch("".concat(n,"/rest/v1/car"),{method:"GET",headers:{"Content-Type":"application/json",apikey:s}});if(!e.ok)throw Error("Can not get the car");return await e.json()}catch(e){return console.log(e),[]}}async function c(e){try{let t=await fetch("".concat(n,"/rest/v1/car"),{method:"GET",headers:{"Content-Type":"application/json",apikey:s}});if(!t.ok)throw Error("Can not get the car");let r=await t.json();console.log(r),console.log(e);let a=r.find(t=>t.id===parseInt(e));return console.log(a),a}catch(e){return console.log(e),[]}}},8464:function(e,t,r){"use strict";r.d(t,{_:function(){return s}});var n=r(7437);function s(e){let{car:t}=e;return(0,n.jsx)("div",{className:"flex",children:(0,n.jsxs)("a",{href:"/car?slug=".concat(t.id),className:"flex items-center border-b pb-1 rounded border-gray-400 w-full flex-col",children:[(0,n.jsx)("div",{className:"car-img h-full w-[auto] rounded-t",children:(0,n.jsx)("img",{className:"object-cover h-full max-w-full",src:t.img_url,alt:"carImg"})}),(0,n.jsxs)("div",{className:"flex flex-col p-4 mr-auto",children:[t.brand.split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")+" "+t.name.split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")+" "+t.year,(0,n.jsxs)("span",{className:"text-gray-600 text-[14px]",children:["Estrellas ",(e=>{let t=[];for(let r=0;r<e;r++)t.push((0,n.jsx)("span",{children:"â˜…"},r));return t})(t.stars)]})]})]})})}},5829:function(e,t,r){"use strict";r.d(t,{g:function(){return s}});var n=r(7437);function s(){return(0,n.jsxs)("svg",{className:"animate-spin size-5 text-white block mx-auto mt-[100px]",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,n.jsx)("circle",{className:"opacity-50",cx:"12",cy:"12",r:"10",stroke:"#000",strokeWidth:"4"}),(0,n.jsx)("path",{className:"opacity-100",fill:"#000",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}},8783:function(e,t,r){"use strict";r.d(t,{V:function(){return s}});var n=r(7437);function s(e){let{children:t}=e;return(0,n.jsx)("div",{className:"w-full text-center text-6xl font-bold mt-10 mb-10",children:t})}},2634:function(e,t,r){"use strict";r.d(t,{M:function(){return a}});var n=r(7437),s=r(2265);function a(){let[e,t]=(0,s.useState)();return(0,n.jsxs)("div",{className:"search-form flex",children:[(0,n.jsx)("input",{onChange:e=>{t(e.target.value)},autoFocus:!0,className:"text-[14px] text-gray-800 border sm:text-[18px] rounded-l-full py-3 ps-14 pe-2 outline-none max-w-[calc(100%-72px)] w-[400px]",placeholder:"Search Car",type:"text"}),(0,n.jsx)("a",{href:"/search?car=".concat(e),className:"flex items-center bg-neutral-950 text-white rounded-r-full px-10",children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.8,stroke:"currentColor",className:"w-10 h-6",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})})})]})}},4638:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return x}});var n=r(7437),s=r(2265),a=r(9426),c=r(8464),l=r(6463);function o(e,t){let{title:r}=e,a=(0,l.useSearchParams)().get(t);return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(s.Suspense,{children:(0,n.jsxs)("h3",{className:"text-2xl mb-10",children:[r,": ",a]})})})}var i=r(8783),u=r(2634),h=r(5829);async function d(){return new URLSearchParams(window.location.search).get("car")}function x(){let[e,t]=(0,s.useState)([]),[r,l]=(0,s.useState)([]),[x,f]=(0,s.useState)(null),[m,p]=(0,s.useState)(!0);return console.log(x),(0,s.useEffect)(()=>{d().then(e=>{console.log(e),f(e),p(!1)}).catch(e=>{console.error(e),p(!1)})},[]),(0,s.useEffect)(()=>{let e=async()=>{try{let e=await (0,a.E3)();t(e)}catch(e){console.log(e)}};x&&e()},[x]),(0,s.useEffect)(()=>{l(((e,t)=>{if(!e||!t)return[];let r=t.replace(/\s/g,"").toLowerCase(),n=e.filter(e=>e.brand.replace(/\s/g,"").toLowerCase()===r),s=e.filter(e=>e.brand.replace(/\s/g,"").toLowerCase().includes(r));return n.length>0?[...n]:[...n,...s]})(e,x))},[e,x]),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("main",{className:"p-5",children:[(0,n.jsx)(i.V,{children:"Search"}),(0,n.jsx)(s.Suspense,{children:(0,n.jsx)(o,{title:"Car",searchSlug:"car"})}),(0,n.jsx)(u.M,{}),m?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(h.g,{})}):r.length<=0?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(h.g,{})}):(0,n.jsx)("div",{className:"flex gap-6 mt-10",children:(0,n.jsx)("div",{className:"w-full",children:(0,n.jsx)("div",{className:"cars grid grid-cols-4 gap-1",children:r.map((e,t)=>(0,n.jsx)(c._,{car:e},"".concat(e.id,"-").concat(t)))})})})]})})}},6463:function(e,t,r){"use strict";var n=r(1169);r.o(n,"useSearchParams")&&r.d(t,{useSearchParams:function(){return n.useSearchParams}})}},function(e){e.O(0,[971,23,744],function(){return e(e.s=6415)}),_N_E=e.O()}]);